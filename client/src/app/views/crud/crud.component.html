<div class="container centralize">
  <div *ngIf="isLoading" class="loader">
    <mat-spinner *ngIf="isLoading"></mat-spinner>
  </div>
  <mat-card>
    <form (ngSubmit)="submitForm()" [formGroup]="formRequisiiton" autocomplete="off">
      <mat-card-header>
        <mat-card-title>Criar requisição</mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <mat-form-field>
          <mat-label>Nome do solicitante</mat-label>
          <input formControlName="name" matInput required />
          <mat-error *ngIf="formRequisiiton.get('name').errors?.required">{{
            getErrorMessage("required")
          }}</mat-error>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Descrição do item</mat-label>
          <textarea
            matInput
            formControlName="description"
            cdkTextareaAutosize
            #autosize="cdkTextareaAutosize"
            cdkAutosizeMinRows="1"
            cdkAutosizeMaxRows="5"
          ></textarea>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Preço do item</mat-label>
          <input formControlName="price" matInput type="number">
          <span matPrefix>R$&nbsp;</span>
        </mat-form-field>
      </mat-card-content>

      <mat-card-footer>
        <button color="primary" mat-raised-button type="submit">
          {{ isAbdicator ? 'Aceitar Requisição' : 'Enviar Solicitação'}}
        </button>
      </mat-card-footer>
    </form>
  </mat-card>
</div>
